(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{3928:(e,t,n)=>{Promise.resolve().then(n.bind(n,9911)),Promise.resolve().then(n.bind(n,8121)),Promise.resolve().then(n.bind(n,9026)),Promise.resolve().then(n.bind(n,8155)),Promise.resolve().then(n.bind(n,8810)),Promise.resolve().then(n.bind(n,8506)),Promise.resolve().then(n.bind(n,1805)),Promise.resolve().then(n.bind(n,5366)),Promise.resolve().then(n.bind(n,5399)),Promise.resolve().then(n.t.bind(n,1491,23)),Promise.resolve().then(n.t.bind(n,8173,23)),Promise.resolve().then(n.t.bind(n,7970,23)),Promise.resolve().then(n.bind(n,4798)),Promise.resolve().then(n.t.bind(n,400,23))},9911:(e,t,n)=>{"use strict";n.d(t,{ICOForm:()=>c});var a=n(5155),s=n(2115),i=n(2841),r=n(6121),u=n(3667),l=n(5772),p=n(8810),o=n(6662);let y=JSON.parse('{"HV":[{"inputs":[{"internalType":"contract IERC20","name":"_currencyToken","type":"address"},{"internalType":"contract LotteryToken","name":"_token","type":"address"},{"internalType":"contract Lottery","name":"_lottery","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"EnforcedPause","type":"error"},{"inputs":[],"name":"ExpectedPause","type":"error"},{"inputs":[{"internalType":"uint256","name":"got","type":"uint256"},{"internalType":"uint256","name":"want","type":"uint256"}],"name":"IncorrectValueError","type":"error"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"}],"name":"InsufficientBalanceError","type":"error"},{"inputs":[{"internalType":"uint256","name":"available","type":"uint256"},{"internalType":"uint256","name":"requested","type":"uint256"}],"name":"InsufficientTokensError","type":"error"},{"inputs":[],"name":"InvalidStateError","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"buyTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"close","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"currencyToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"getPriceFor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOpen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lottery","outputs":[{"internalType":"contract Lottery","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokensToSell","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"open","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract LotteryToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokensForSale","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokensSold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawAll","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');var d=n(3818);let m=e=>{let{ico:t}=e,{library:n,account:y}=(0,l.Yu)(),m=e=>n.utils.fromWei(e,"ether"),c=e=>n.utils.toBigInt(n.utils.toWei(e,"ether")),[b,h]=(0,s.useState)(null),[f,x]=(0,s.useState)(null),[v,T]=(0,s.useState)(!1),[w,A]=(0,s.useState)(""),[,j]=(0,s.useState)(0n),[C,M]=(0,s.useState)("0"),[k,E]=(0,s.useState)(0n),[P,O]=(0,s.useState)("0"),[,S]=(0,s.useState)(0),L=e=>{A(e);let t=c(e);if(j(t),b){let e=0xde0b6b3a7640000n*t/b;M(m(e)),E(e);let n=(0,o.gP)(e,0x33b2e3c9fd0803ce8000000n);O(""+100*n),S(n)}else M(""),E(0n),O(""),S(0)},N=e=>{M(e);let t=c(e);if(E(t),b){let e=t*b/0xde0b6b3a7640000n;A(m(e)),j(e)}else A(""),j(0n);let n=(0,o.gP)(t,0x33b2e3c9fd0803ce8000000n);O(""+100*n),S(n)},g=e=>{O(e);let t=parseFloat(e)/100;S(t);let a=c(t)*n.utils.toBigInt(m(0x33b2e3c9fd0803ce8000000n));if(M(m(a)),E(a),b){let e=a*b/0xde0b6b3a7640000n;A(m(e)),j(e)}else A(""),j(0n)};return(0,o.Zu)(async()=>{h(n.utils.toBigInt(await t.methods.price().call())),T(await t.methods.isOpen().call())},[n,t]),(0,o.Zu)(async()=>{y?x(n.utils.toBigInt(await t.methods.balanceOf(y).call())):x(null)},[n,y,t]),(0,s.useEffect)(()=>{g("1")},[b]),(0,a.jsx)(p.Vs.Consumer,{children:e=>{let{showModal:s}=e;return(0,a.jsxs)(i.A,{className:"mb-1",onSubmit:async e=>{e.preventDefault(),e.target.checkValidity()&&(y?await t.methods.buyTokens(k).send({from:y}):s("wallet"))},children:[(0,a.jsxs)(i.A.Group,{as:r.A,className:"mx-sm-3 mb-3",children:[(0,a.jsx)(i.A.Label,{column:!0,sm:3,children:"Current EXL price:"}),(0,a.jsx)(u.A,{children:(0,a.jsx)(i.A.Control,{type:"static",disabled:!0,value:b?"".concat((0,o.TZ)(n,b)," Dai"):""})})]}),null!==f?(0,a.jsxs)(i.A.Group,{as:r.A,className:"mx-sm-3 mb-3",children:[(0,a.jsx)(i.A.Label,{column:!0,sm:3,children:"Your EXL balance:"}),(0,a.jsx)(u.A,{children:(0,a.jsx)(i.A.Control,{type:"static",disabled:!0,value:null!==f?"".concat((0,o.TZ)(n,f)," EXL"):""})})]}):null,(0,a.jsxs)(r.A,{className:"mb-4",children:[(0,a.jsxs)(i.A.Group,{as:u.A,className:"mx-sm-3",children:[(0,a.jsx)(i.A.Label,{children:"Dai"}),(0,a.jsx)(i.A.Control,{type:"text",disabled:null===b,required:!0,pattern:"[0-9]*(\\.[0-9]*)?",value:w,onChange:e=>{let{target:t}=e;return L(t.value)}})]}),(0,a.jsxs)(i.A.Group,{as:u.A,className:"mx-sm-3",children:[(0,a.jsx)(i.A.Label,{children:"EXL"}),(0,a.jsx)(i.A.Control,{type:"text",disabled:null===b,pattern:"[0-9]*(\\.[0-9]*)?",value:C,onChange:e=>{let{target:t}=e;return N(t.value)}})]}),(0,a.jsxs)(i.A.Group,{as:u.A,className:"mx-sm-3",children:[(0,a.jsx)(i.A.Label,{children:"Share (%)"}),(0,a.jsx)(i.A.Control,{type:"text",disabled:null===b,pattern:"[0-9]*(\\.[0-9]*)?",value:P,onChange:e=>{let{target:t}=e;return g(t.value)}})]})]}),(0,a.jsxs)(r.A,{children:[(0,a.jsx)(i.A.Group,{as:u.A,className:"mx-sm-3",children:(0,a.jsx)(d.V,{type:"submit",disabled:!v,className:"mb-4",children:"Buy EXL"})}),(0,a.jsx)(i.A.Group,{as:u.A,className:"mx-sm-3",children:(0,a.jsx)(d.V,{type:"button",disabled:v||!f,className:"mb-4",onClick:async()=>{y?await t.methods.withdrawAll().send({from:y}):s("wallet")},children:"Redeem EXL"})})]})]})}})},c=()=>{let e=(0,l.Yu)(),[t,n]=(0,s.useState)(null);return((0,s.useEffect)(()=>{e.active&&e.library?n(new e.library.eth.Contract(y.HV,"0x6C5C3C20705F15639dB4C4F82a32B288B83eb38F")):n(null)},[e,e.active,e.library]),t)?(0,a.jsx)(m,{ico:t}):null}},400:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[562,649,586,506,203,370,774,441,517,358],()=>t(3928)),_N_E=e.O()}]);