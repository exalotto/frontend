(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{4827:(e,t,s)=>{Promise.resolve().then(s.bind(s,5084)),Promise.resolve().then(s.bind(s,8121)),Promise.resolve().then(s.bind(s,9026)),Promise.resolve().then(s.bind(s,8155)),Promise.resolve().then(s.bind(s,8810)),Promise.resolve().then(s.bind(s,8506)),Promise.resolve().then(s.bind(s,1805)),Promise.resolve().then(s.bind(s,5366)),Promise.resolve().then(s.bind(s,5399)),Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.t.bind(s,7970,23)),Promise.resolve().then(s.bind(s,4798))},5084:(e,t,s)=>{"use strict";s.d(t,{MyTickets:()=>x});var r=s(5155),n=s(2115),i=s(8173),l=s.n(i),a=s(5772),o=s(553),c=s(1490),d=s(5257),u=s(6662);let m=e=>{let{ticket:t,prize:s}=e;if(!s)return(0,r.jsx)(o.A.NoWin,{});let n=t.draw.numbers.map(e=>t.numbers.includes(e)).reduce((e,t)=>e+(t?1:0),0);return(0,r.jsx)(o.A.Prize,{matches:n,prize:s})},h=e=>{var t;let{lottery:s,ticket:i}=e,{account:c}=(0,a.Yu)(),[d,h]=(0,n.useState)(null),[b,x]=(0,n.useState)(!1);return(0,u.Zu)(async()=>{if(i.draw){let e=await s.getExtendedTicket(i);h(s.web3.utils.toBigInt(e.prize)),x(0!==e.withdrawBlockNumber)}},[s,i.draw,i.id]),(0,r.jsxs)(o.A,{date:i.date,onAction:d&&!b?()=>s.withdrawPrize(i.id,c):null,actionTitle:"Claim Prize!",children:[i.txHash?(0,r.jsx)(o.A.Section,{title:"Transaction",children:(0,r.jsxs)(l(),{href:"https://".concat("polygonscan.com","/tx/").concat(i.txHash),target:"_blank",rel:"noreferrer",children:[i.txHash.substring(0,22),"â€¦"]})}):null,(0,r.jsx)(o.A.Numbers,{title:"Your Numbers",numbers:i.numbers,highlightedNumbers:null===(t=i.draw)||void 0===t?void 0:t.numbers}),i.draw?(0,r.jsx)(o.A.Numbers,{title:"Drawn Numbers",numbers:i.draw.numbers,highlightedNumbers:i.numbers}):null,i.draw&&null!==d?(0,r.jsx)(m,{ticket:i,prize:d}):null]})},b=e=>{let{lottery:t,account:s}=e,[i,l]=(0,n.useState)([]);return(0,u.Zu)(async()=>{let e=(await t.getTicketIds(s)).sort((e,t)=>t-e);l(await Promise.all(e.map(e=>t.getTicket(e))))},[s,t]),(0,r.jsx)("section",{className:"draws d-flex justify-content-start align-items-center flex-column flex-lg-row align-items-lg-start",children:i.map((e,s)=>(0,r.jsx)(h,{lottery:t,ticket:e},s))})},x=()=>{let{context:e,lottery:t}=(0,c.z)();return(0,r.jsx)("section",{className:"past-draws",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(d._,{title:"My Tickets"}),(null==e?void 0:e.account)?(0,r.jsx)(b,{lottery:t,account:e.account}):(0,r.jsx)("article",{children:(0,r.jsx)("p",{className:"past-draws__descr",children:"Please connect your wallet."})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[586,506,370,774,441,517,358],()=>t(4827)),_N_E=e.O()}]);