(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{9613:(e,t,s)=>{Promise.resolve().then(s.bind(s,5084)),Promise.resolve().then(s.bind(s,8121)),Promise.resolve().then(s.bind(s,9026)),Promise.resolve().then(s.bind(s,8155)),Promise.resolve().then(s.bind(s,8810)),Promise.resolve().then(s.bind(s,8506)),Promise.resolve().then(s.bind(s,1805)),Promise.resolve().then(s.bind(s,5366)),Promise.resolve().then(s.bind(s,5399)),Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.t.bind(s,7970,23)),Promise.resolve().then(s.bind(s,4798))},5084:(e,t,s)=>{"use strict";s.d(t,{MyTickets:()=>h});var r=s(5155),n=s(2115),i=s(5772),l=s(553),a=s(1490),o=s(5257),c=s(6662);let d=e=>{let{ticket:t,prize:s}=e;if(!s)return(0,r.jsx)(l.A.NoWin,{});let n=t.draw.numbers.map(e=>t.numbers.includes(e)).reduce((e,t)=>e+(t?1:0),0);return(0,r.jsx)(l.A.Prize,{matches:n,prize:s})},u=e=>{var t;let{lottery:s,ticket:a}=e,{account:o}=(0,i.Yu)(),[u,m]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1);return(0,c.Zu)(async()=>{if(a.draw){let e=await s.getExtendedTicket(a);m(s.web3.utils.toBigInt(e.prize)),b(0!==e.withdrawBlockNumber)}},[s,a.draw,a.id]),(0,r.jsxs)(l.A,{date:a.date,onAction:u?()=>s.withdrawPrize(a.id,o):null,actionTitle:h?"Withdrawn":"Withdraw",actionEnabled:!h,children:[a.txHash?(0,r.jsx)(l.A.Section,{title:"Transaction",children:(0,r.jsxs)("a",{href:"https://".concat("polygonscan.com","/tx/").concat(a.txHash),target:"_blank",rel:"noreferrer",children:[a.txHash.substring(0,22),"â€¦"]})}):null,(0,r.jsx)(l.A.Numbers,{title:"Your Numbers",numbers:a.numbers,highlightedNumbers:null===(t=a.draw)||void 0===t?void 0:t.numbers}),a.draw?(0,r.jsx)(l.A.Numbers,{title:"Drawn Numbers",numbers:a.draw.numbers,highlightedNumbers:a.numbers}):null,a.draw&&u?(0,r.jsx)(d,{ticket:a,prize:u}):null]})},m=e=>{let{lottery:t,account:s}=e,[i,l]=(0,n.useState)([]);return(0,c.Zu)(async()=>{let e=(await t.getTicketIds(s)).sort((e,t)=>t-e);l(await Promise.all(e.map(e=>t.getTicket(e))))},[s,t]),(0,r.jsx)("section",{className:"draws d-flex justify-content-start align-items-center flex-column flex-lg-row align-items-lg-start",children:i.map((e,s)=>(0,r.jsx)(u,{lottery:t,ticket:e},s))})},h=()=>{let{context:e,lottery:t}=(0,a.z)();return(0,r.jsx)("section",{className:"past-draws",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(o._,{title:"My Tickets"}),(null==e?void 0:e.account)?(0,r.jsx)(m,{lottery:t,account:e.account}):(0,r.jsx)("article",{children:(0,r.jsx)("p",{className:"past-draws__descr",children:"Please connect your wallet."})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[586,506,370,774,441,517,358],()=>t(9613)),_N_E=e.O()}]);